<!doctype html>
<html>
  <head>
    <title>Discoverfy</title>
    <link rel="stylesheet" href="../static/css/discoverfy.css">
  </head>

  <body>
   <div class="section intro">

      <div class="wrapper top">
    <h1>Settings</h1>
    <br><br>

    <form action="" method="post">
      <div class="custom-select" style="width:200px;">
          <select name="setting">
            <option value="weekly">Select setting:</option>
            <option value="weekly">Weekly</option>
            <option value="global">Global</option>
            <option value="h1">Hybrid (1 week)</option>
            <option value="h2">Hybrid (2 week)</option>
            <option value="h3">Hybrid (3 week)</option>
            <option value="h4">Hybrid (4 week)</option>
          </select>
      </div>

      <br><br><br>
        <input class= "button download web" type="submit"/>
      <br>
    </form>

    <div>
      <br><br><br>
      <h2>Setting Options Information</h2><br>
      <h4>Weekly</h4>
      <p>The weekly setting will save your Discover Weekly playlist each week creating a new playlist with a title representing the date it was created.</p><br>
      <h4>Global</h4>
      <p>The Global setting will save all your Discover Weekly playlist tracks to one playlist, adding to one playlist rather than creating a new one each week.</p><br>
      <h4>Hybrid</h4>
      <p>The Hybrid setting will save playlists individually -- similar to the weekly setting -- for a configurable amount of weeks before deleting this playlist and adding the songs to a global playlist.  This way your most recent Discover Weekly playlists will be saved individually while any Discover Weekly playlists older than the specified number of weeks will instead be added to the Global playlist.</p>
    </div>
    <br><br><br>
    <di>
      <h3>Revoking Access</h3><br>
      <h6 align="center">Click <a href="https://www.spotify.com/sk/account/apps/#_=_">Here</a>, login, then click "Revoke Access" next to the name of the app.</h6>

<script>
var x, i, j, selElmnt, a, b, c;
/*look for any elements with the class "custom-select":*/
x = document.getElementsByClassName("custom-select");
for (i = 0; i < x.length; i++) {
  selElmnt = x[i].getElementsByTagName("select")[0];
  /*for each element, create a new DIV that will act as the selected item:*/
  a = document.createElement("DIV");
  a.setAttribute("class", "select-selected");
  a.innerHTML = selElmnt.options[selElmnt.selectedIndex].innerHTML;
  x[i].appendChild(a);
  /*for each element, create a new DIV that will contain the option list:*/
  b = document.createElement("DIV");
  b.setAttribute("class", "select-items select-hide");
  for (j = 1; j < selElmnt.length; j++) {
    /*for each option in the original select element,
    create a new DIV that will act as an option item:*/
    c = document.createElement("DIV");
    c.innerHTML = selElmnt.options[j].innerHTML;
    c.addEventListener("click", function(e) {
        /*when an item is clicked, update the original select box,
        and the selected item:*/
        var i, s, h;
        s = this.parentNode.parentNode.getElementsByTagName("select")[0];
        h = this.parentNode.previousSibling;
        for (i = 0; i < s.length; i++) {
          if (s.options[i].innerHTML == this.innerHTML) {
            s.selectedIndex = i;
            h.innerHTML = this.innerHTML;
            break;
          }
        }
        h.click();
    });
    b.appendChild(c);
  }
  x[i].appendChild(b);
  a.addEventListener("click", function(e) {
      /*when the select box is clicked, close any other select boxes,
      and open/close the current select box:*/
      e.stopPropagation();
      closeAllSelect(this);
      this.nextSibling.classList.toggle("select-hide");
      this.classList.toggle("select-arrow-active");
    });
}

function closeAllSelect(elmnt) {
  /*a function that will close all select boxes in the document,
  except the current select box:*/
  var x, y, i, arrNo = [];
  x = document.getElementsByClassName("select-items");
  y = document.getElementsByClassName("select-selected");
  for (i = 0; i < y.length; i++) {
    if (elmnt == y[i]) {
      arrNo.push(i)
    } else {
      y[i].classList.remove("select-arrow-active");
    }
  }
  for (i = 0; i < x.length; i++) {
    if (arrNo.indexOf(i)) {
      x[i].classList.add("select-hide");
    }
  }
}
/*if the user clicks anywhere outside the select box,
then close all select boxes:*/
document.addEventListener("click", closeAllSelect);
</script>

</body>
</html>

